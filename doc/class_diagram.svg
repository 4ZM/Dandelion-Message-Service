<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/PR-SVG-20010719/DTD/svg10.dtd">
<svg width="113cm" height="79cm" viewBox="-49 351 2245 1561" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <g>
    <rect style="fill: #ffffff" x="688" y="1664" width="395" height="28"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="688" y="1664" width="395" height="28"/>
    <text style="fill: #000000;text-anchor:middle;font-size:16;font-family:sanserif;font-style:normal;font-weight:700" x="885.5" y="1683">ContentsDB</text>
    <rect style="fill: #ffffff" x="688" y="1692" width="395" height="52"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="688" y="1692" width="395" height="52"/>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="691" y="1706">+id: bytes</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="691" y="1722">+now: bytes (time cookie)</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="691" y="1738">+message_count: int</text>
    <rect style="fill: #ffffff" x="688" y="1744" width="395" height="84"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="688" y="1744" width="395" height="84"/>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="691" y="1758">+add_message(Message[]): bytes</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="691" y="1774">+remove_messages(Message[])</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="691" y="1790">+contains_messages(Message[]): bool[]</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="691" y="1806">+messages_since(tc:bytes=None): (bytes, Message[])</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="691" y="1822">+get_messages(msgids:bytes[]=None): bytes[]</text>
  </g>
  <g>
    <rect style="fill: #ffffff" x="186" y="1040" width="133.2" height="28"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="186" y="1040" width="133.2" height="28"/>
    <text style="fill: #000000;text-anchor:middle;font-size:16;font-family:sanserif;font-style:normal;font-weight:700" x="252.6" y="1059">Server</text>
    <rect style="fill: #ffffff" x="186" y="1068" width="133.2" height="8"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="186" y="1068" width="133.2" height="8"/>
    <rect style="fill: #ffffff" x="186" y="1076" width="133.2" height="68"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="186" y="1076" width="133.2" height="68"/>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="189" y="1090">+start()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="189" y="1106">+stop()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="189" y="1122">+status()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="189" y="1138">+running(): bool</text>
  </g>
  <g>
    <polygon style="fill: #ffffff" points="1472,1613 1616.6,1613 1628.6,1625 1628.6,1663 1472,1663 "/>
    <polygon style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="1472,1613 1616.6,1613 1628.6,1625 1628.6,1663 1472,1663 "/>
    <polyline style="fill: none; fill-opacity:0; stroke-width: 1; stroke: #000000" points="1616.6,1613 1616.6,1625 1628.6,1625 "/>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1479" y="1637.9">
      <tspan x="1479" y="1637.9">Message data type </tspan>
      <tspan x="1479" y="1653.9">is immutable</tspan>
    </text>
  </g>
  <g>
    <polygon style="fill: #ffffff" points="619,1861 832.9,1861 844.9,1873 844.9,1911 619,1911 "/>
    <polygon style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="619,1861 832.9,1861 844.9,1873 844.9,1911 619,1911 "/>
    <polyline style="fill: none; fill-opacity:0; stroke-width: 1; stroke: #000000" points="832.9,1861 832.9,1873 844.9,1873 "/>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="626" y="1885.9">
      <tspan x="626" y="1885.9">Readers Writer Lock pattern</tspan>
      <tspan x="626" y="1901.9">for DB access</tspan>
    </text>
  </g>
  <g>
    <rect style="fill: #ffffff" x="872.202" y="1261.25" width="325.7" height="28"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="872.202" y="1261.25" width="325.7" height="28"/>
    <text style="fill: #000000;text-anchor:middle;font-size:16;font-family:sanserif;font-style:normal;font-weight:700" x="1035.05" y="1280.25">Client</text>
    <rect style="fill: #ffffff" x="872.202" y="1289.25" width="325.7" height="52"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="872.202" y="1289.25" width="325.7" height="52"/>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="875.202" y="1303.25">-_host</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="875.202" y="1319.25">-_port</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="875.202" y="1335.25">-_db</text>
    <rect style="fill: #ffffff" x="872.202" y="1341.25" width="325.7" height="52"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="872.202" y="1341.25" width="325.7" height="52"/>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="875.202" y="1355.25">+__init__(host:str,port:int,db:ContentDB)</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="875.202" y="1371.25">+execute_transaction()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="875.202" y="1387.25">+__enter__, __exit__()</text>
  </g>
  <g>
    <rect style="fill: #ffffff" x="1274.2" y="1714.25" width="364.2" height="28"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="1274.2" y="1714.25" width="364.2" height="28"/>
    <text style="fill: #000000;text-anchor:middle;font-size:16;font-family:sanserif;font-style:normal;font-weight:700" x="1456.3" y="1733.25">Message</text>
    <rect style="fill: #ffffff" x="1274.2" y="1742.25" width="364.2" height="68"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="1274.2" y="1742.25" width="364.2" height="68"/>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1277.2" y="1756.25">+id: bytes</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1277.2" y="1772.25">+text: str</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1277.2" y="1788.25">+sender</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1277.2" y="1804.25">+receiver</text>
    <rect style="fill: #ffffff" x="1274.2" y="1810.25" width="364.2" height="68"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="1274.2" y="1810.25" width="364.2" height="68"/>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1277.2" y="1824.25">+__init__(text:str,signer=None,encrypter=None)</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1277.2" y="1840.25">+has_sender(): bool</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1277.2" y="1856.25">+has_receiver(): bool</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1277.2" y="1872.25">+__eq__, __ne__()</text>
  </g>
  <g>
    <rect style="fill: #ffffff" x="684.202" y="1037.25" width="133.2" height="28"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="684.202" y="1037.25" width="133.2" height="28"/>
    <text style="fill: #000000;text-anchor:middle;font-size:16;font-family:sanserif;font-style:normal;font-weight:700" x="750.802" y="1056.25">Synchronizer</text>
    <rect style="fill: #ffffff" x="684.202" y="1065.25" width="133.2" height="8"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="684.202" y="1065.25" width="133.2" height="8"/>
    <rect style="fill: #ffffff" x="684.202" y="1073.25" width="133.2" height="100"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="684.202" y="1073.25" width="133.2" height="100"/>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="687.202" y="1087.25">+start()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="687.202" y="1103.25">+stop()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="687.202" y="1119.25">+restart()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="687.202" y="1135.25">+status()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="687.202" y="1151.25">+running(): bool</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="687.202" y="1167.25">-_sync_loop()</text>
  </g>
  <g>
    <rect style="fill: #ffffff" x="1765.6" y="406.5" width="125.5" height="28"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="1765.6" y="406.5" width="125.5" height="28"/>
    <text style="fill: #000000;text-anchor:middle;font-size:16;font-family:sanserif;font-style:italic;font-weight:700" x="1828.35" y="425.5">Transaction</text>
    <rect style="fill: #ffffff" x="1765.6" y="434.5" width="125.5" height="8"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="1765.6" y="434.5" width="125.5" height="8"/>
    <rect style="fill: #ffffff" x="1765.6" y="442.5" width="125.5" height="52"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="1765.6" y="442.5" width="125.5" height="52"/>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:italic;font-weight:700" x="1768.6" y="456.5">#_read(): bytes</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:italic;font-weight:700" x="1768.6" y="472.5">#_write(bytes)</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:italic;font-weight:700" x="1768.6" y="488.5">+process()</text>
  </g>
  <g>
    <rect style="fill: #ffffff" x="669.596" y="536.5" width="203.35" height="28"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="669.596" y="536.5" width="203.35" height="28"/>
    <text style="fill: #000000;text-anchor:middle;font-size:16;font-family:sanserif;font-style:normal;font-weight:700" x="771.271" y="555.5">DandelionApplication</text>
    <rect style="fill: #ffffff" x="669.596" y="564.5" width="203.35" height="8"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="669.596" y="564.5" width="203.35" height="8"/>
    <rect style="fill: #ffffff" x="669.596" y="572.5" width="203.35" height="68"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="669.596" y="572.5" width="203.35" height="68"/>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="672.596" y="586.5">+start_server()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="672.596" y="602.5">+start_synchronizer()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="672.596" y="618.5">+run_ui()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="672.596" y="634.5">+exit()</text>
  </g>
  <g>
    <rect style="fill: #ffffff" x="1074.6" y="616.5" width="146.55" height="28"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="1074.6" y="616.5" width="146.55" height="28"/>
    <text style="fill: #000000;text-anchor:middle;font-size:16;font-family:sanserif;font-style:normal;font-weight:700" x="1147.87" y="635.5">ConfigManager</text>
    <rect style="fill: #ffffff" x="1074.6" y="644.5" width="146.55" height="8"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="1074.6" y="644.5" width="146.55" height="8"/>
    <rect style="fill: #ffffff" x="1074.6" y="652.5" width="146.55" height="8"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="1074.6" y="652.5" width="146.55" height="8"/>
  </g>
  <g>
    <rect style="fill: #ffffff" x="1756.1" y="911.5" width="264.1" height="28"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="1756.1" y="911.5" width="264.1" height="28"/>
    <text style="fill: #000000;text-anchor:middle;font-size:16;font-family:sanserif;font-style:normal;font-weight:700" x="1888.15" y="930.5">Protocol</text>
    <rect style="fill: #ffffff" x="1756.1" y="939.5" width="264.1" height="116"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="1756.1" y="939.5" width="264.1" height="116"/>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1759.1" y="953.5">+PROTOCOL_VERSION = 1.0</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1759.1" y="969.5">+MESSAGE_LENGTH_BYTES = 4</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1759.1" y="985.5">+_PROTOCOL_COOKIE = 'DMS'</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1759.1" y="1001.5">+_FIELD_SEPARATOR</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1759.1" y="1017.5">+_SUB_FIELD_SEPARATOR</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1759.1" y="1033.5">+_GETMESSAGELIST</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1759.1" y="1049.5">+_GETMESSAGES</text>
    <rect style="fill: #ffffff" x="1756.1" y="1055.5" width="264.1" height="340"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="1756.1" y="1055.5" width="264.1" height="340"/>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1759.1" y="1069.5">+create_greeting_message()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1759.1" y="1085.5">+parse_greeting_message()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1759.1" y="1101.5">+is_message_id_list_request()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1759.1" y="1117.5">+create_message_id_list_request()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1759.1" y="1133.5">+parse_message_id_list_request()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1759.1" y="1149.5">+create_message_id_list()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1759.1" y="1165.5">+parse_message_id_list()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1759.1" y="1181.5">+is_message_list_request()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1759.1" y="1197.5">+create_message_list_request()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1759.1" y="1213.5">+parse_message_list_request()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1759.1" y="1229.5">+create_message_list()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1759.1" y="1245.5">+_message2string()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1759.1" y="1261.5">+parse_message_list()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1759.1" y="1277.5">+parse_size_str()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1759.1" y="1293.5">+_add_size_padding()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1759.1" y="1309.5">+_strip_size_padding()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1759.1" y="1325.5">+_string2message()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1759.1" y="1341.5">+_b2s()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1759.1" y="1357.5">+_s2b()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1759.1" y="1373.5">+_i2s()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1759.1" y="1389.5">+_s2i()</text>
  </g>
  <g>
    <rect style="fill: #ffffff" x="-47.904" y="1245" width="148.75" height="28"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="-47.904" y="1245" width="148.75" height="28"/>
    <text style="fill: #000000;text-anchor:middle;font-size:16;font-family:sanserif;font-style:normal;font-weight:700" x="26.471" y="1264">_ServerHandler</text>
    <rect style="fill: #ffffff" x="-47.904" y="1273" width="148.75" height="8"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="-47.904" y="1273" width="148.75" height="8"/>
    <rect style="fill: #ffffff" x="-47.904" y="1281" width="148.75" height="8"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="-47.904" y="1281" width="148.75" height="8"/>
  </g>
  <g>
    <rect style="fill: #ffffff" x="906.096" y="925.5" width="106.75" height="28"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="906.096" y="925.5" width="106.75" height="28"/>
    <text style="fill: #000000;text-anchor:middle;font-size:16;font-family:sanserif;font-style:normal;font-weight:700" x="959.471" y="944.5">Discoverer</text>
    <rect style="fill: #ffffff" x="906.096" y="953.5" width="106.75" height="8"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="906.096" y="953.5" width="106.75" height="8"/>
    <rect style="fill: #ffffff" x="906.096" y="961.5" width="106.75" height="8"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="906.096" y="961.5" width="106.75" height="8"/>
  </g>
  <g>
    <rect style="fill: #ffffff" x="337" y="466.5" width="164" height="28"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="337" y="466.5" width="164" height="28"/>
    <text style="fill: #000000;text-anchor:middle;font-size:16;font-family:sanserif;font-style:normal;font-weight:700" x="419" y="485.5">UI</text>
    <rect style="fill: #ffffff" x="337" y="494.5" width="164" height="8"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="337" y="494.5" width="164" height="8"/>
    <rect style="fill: #ffffff" x="337" y="502.5" width="164" height="100"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="337" y="502.5" width="164" height="100"/>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="340" y="516.5">+run()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="340" y="532.5">+say()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="340" y="548.5">+show_messages()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="340" y="564.5">+server_ctrl()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="340" y="580.5">+synchronizer_ctrl()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="340" y="596.5">-_service_ctrl()</text>
  </g>
  <g>
    <rect style="fill: #ffffff" x="1789.4" y="573.75" width="175.3" height="28"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="1789.4" y="573.75" width="175.3" height="28"/>
    <text style="fill: #000000;text-anchor:middle;font-size:16;font-family:sanserif;font-style:normal;font-weight:700" x="1877.05" y="592.75">SocketTransaction</text>
    <rect style="fill: #ffffff" x="1789.4" y="601.75" width="175.3" height="20"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="1789.4" y="601.75" width="175.3" height="20"/>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1792.4" y="615.75">-_sock: Socket</text>
    <rect style="fill: #ffffff" x="1789.4" y="621.75" width="175.3" height="36"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="1789.4" y="621.75" width="175.3" height="36"/>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:italic;font-weight:normal" x="1792.4" y="635.75">#_read(): bytes</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:italic;font-weight:normal" x="1792.4" y="651.75">#_write(bytes)</text>
  </g>
  <g>
    <rect style="fill: #ffffff" x="1563.8" y="782.75" width="174.05" height="28"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="1563.8" y="782.75" width="174.05" height="28"/>
    <text style="fill: #000000;text-anchor:middle;font-size:16;font-family:sanserif;font-style:normal;font-weight:700" x="1650.82" y="801.75">ServerTransaction</text>
    <rect style="fill: #ffffff" x="1563.8" y="810.75" width="174.05" height="20"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="1563.8" y="810.75" width="174.05" height="20"/>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1566.8" y="824.75">-_db: ContentDB</text>
    <rect style="fill: #ffffff" x="1563.8" y="830.75" width="174.05" height="20"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="1563.8" y="830.75" width="174.05" height="20"/>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="1566.8" y="844.75">+process()</text>
  </g>
  <g>
    <rect style="fill: #ffffff" x="-32.6" y="1118.75" width="117" height="28"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="-32.6" y="1118.75" width="117" height="28"/>
    <text style="fill: #000000;text-anchor:middle;font-size:16;font-family:sanserif;font-style:normal;font-weight:700" x="25.9" y="1137.75">_ServerImpl</text>
    <rect style="fill: #ffffff" x="-32.6" y="1146.75" width="117" height="8"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="-32.6" y="1146.75" width="117" height="8"/>
    <rect style="fill: #ffffff" x="-32.6" y="1154.75" width="117" height="8"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="-32.6" y="1154.75" width="117" height="8"/>
  </g>
  <g>
    <rect style="fill: #ffffff" x="462" y="767.75" width="117.8" height="28"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="462" y="767.75" width="117.8" height="28"/>
    <text style="fill: #000000;text-anchor:middle;font-size:16;font-family:sanserif;font-style:italic;font-weight:700" x="520.9" y="786.75">Service</text>
    <rect style="fill: #ffffff" x="462" y="795.75" width="117.8" height="36"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="462" y="795.75" width="117.8" height="36"/>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="465" y="809.75">+staus: str</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="465" y="825.75">+running: bool</text>
    <rect style="fill: #ffffff" x="462" y="831.75" width="117.8" height="52"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="462" y="831.75" width="117.8" height="52"/>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:italic;font-weight:700" x="465" y="845.75">+start()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:italic;font-weight:700" x="465" y="861.75">+stop()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:italic;font-weight:normal" x="465" y="877.75">+restart()</text>
  </g>
  <g>
    <rect style="fill: #ffffff" x="2027.73" y="782.625" width="167.25" height="28"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="2027.73" y="782.625" width="167.25" height="28"/>
    <text style="fill: #000000;text-anchor:middle;font-size:16;font-family:sanserif;font-style:normal;font-weight:700" x="2111.36" y="801.625">ClientTransaction</text>
    <rect style="fill: #ffffff" x="2027.73" y="810.625" width="167.25" height="20"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="2027.73" y="810.625" width="167.25" height="20"/>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="2030.73" y="824.625">-_db: ContentDB</text>
    <rect style="fill: #ffffff" x="2027.73" y="830.625" width="167.25" height="20"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="2027.73" y="830.625" width="167.25" height="20"/>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="2030.73" y="844.625">+process()</text>
  </g>
  <g>
    <rect style="fill: #ffffff" x="-25.6" y="352.625" width="148.6" height="28"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="-25.6" y="352.625" width="148.6" height="28"/>
    <text style="fill: #000000;text-anchor:middle;font-size:16;font-family:sanserif;font-style:normal;font-weight:700" x="48.7" y="371.625">CmdLine</text>
    <rect style="fill: #ffffff" x="-25.6" y="380.625" width="148.6" height="8"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="-25.6" y="380.625" width="148.6" height="8"/>
    <rect style="fill: #ffffff" x="-25.6" y="388.625" width="148.6" height="148"/>
    <rect style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" x="-25.6" y="388.625" width="148.6" height="148"/>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="-22.6" y="402.625">+do_say()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="-22.6" y="418.625">+do_isay()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="-22.6" y="434.625">+do_sayto()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="-22.6" y="450.625">+do_isayto()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="-22.6" y="466.625">+do_stat()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="-22.6" y="482.625">+do_msgs()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="-22.6" y="498.625">+do_server()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="-22.6" y="514.625">+do_synchronizer()</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.8;font-family:monospace;font-style:normal;font-weight:normal" x="-22.6" y="530.625">+do_exit()</text>
  </g>
  <g>
    <polyline style="fill: none; fill-opacity:0; stroke-width: 2; stroke-dasharray: 8; stroke: #000000" points="520.9,901.986 520.9,961.372 252.6,961.372 252.6,1038.99 "/>
    <polygon style="fill: #ffffff" points="528.9,901.986 520.9,885.986 512.9,901.986 "/>
    <polygon style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="528.9,901.986 520.9,885.986 512.9,901.986 "/>
  </g>
  <g>
    <polyline style="fill: none; fill-opacity:0; stroke-width: 2; stroke-dasharray: 8; stroke: #000000" points="1828.35,513.742 1828.35,534.125 1877.05,534.125 1877.05,572.745 "/>
    <polygon style="fill: #ffffff" points="1836.35,513.742 1828.35,497.742 1820.35,513.742 "/>
    <polygon style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="1836.35,513.742 1828.35,497.742 1820.35,513.742 "/>
  </g>
  <g>
    <polyline style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="1877.05,676.991 1877.05,720.69 2111.36,720.69 2111.36,782.625 "/>
    <polygon style="fill: #ffffff" points="1885.05,676.991 1877.05,660.991 1869.05,676.991 "/>
    <polygon style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="1885.05,676.991 1877.05,660.991 1869.05,676.991 "/>
  </g>
  <g>
    <polyline style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="1877.05,676.991 1877.05,720.753 1650.82,720.753 1650.82,782.75 "/>
    <polygon style="fill: #ffffff" points="1885.05,676.991 1877.05,660.991 1869.05,676.991 "/>
    <polygon style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="1885.05,676.991 1877.05,660.991 1869.05,676.991 "/>
  </g>
  <g>
    <polyline style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="159.82,1092 135.2,1092 135.2,1140.75 85.4073,1140.75 "/>
    <polygon style="fill: #ffffff" points="184.992,1092 170.992,1096.8 156.992,1092 170.992,1087.2 "/>
    <polygon style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="184.992,1092 170.992,1096.8 156.992,1092 170.992,1087.2 "/>
  </g>
  <g>
    <polyline style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="25.9,1188.93 25.9,1203.88 26.471,1203.88 26.471,1243.99 "/>
    <polygon style="fill: #ffffff" points="25.9,1163.76 30.7,1177.76 25.9,1191.76 21.1,1177.76 "/>
    <polygon style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="25.9,1163.76 30.7,1177.76 25.9,1191.76 21.1,1177.76 "/>
  </g>
  <g>
    <polyline style="fill: none; fill-opacity:0; stroke-width: 2; stroke-dasharray: 8; stroke: #000000" points="520.9,901.986 520.9,959.996 750.802,959.996 750.802,1036.24 "/>
    <polygon style="fill: #ffffff" points="528.9,901.986 520.9,885.986 512.9,901.986 "/>
    <polygon style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="528.9,901.986 520.9,885.986 512.9,901.986 "/>
  </g>
  <g>
    <polyline style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="842.574,1147.25 1035.05,1147.25 1035.05,1261.25 "/>
    <polygon style="fill: #ffffff" points="817.402,1147.25 831.402,1142.45 845.402,1147.25 831.402,1152.05 "/>
    <polygon style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="817.402,1147.25 831.402,1142.45 845.402,1147.25 831.402,1152.05 "/>
  </g>
  <g>
    <polyline style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="842.574,1083.25 959.471,1083.25 959.471,969.5 "/>
    <polygon style="fill: #ffffff" points="817.402,1083.25 831.402,1078.45 845.402,1083.25 831.402,1088.05 "/>
    <polygon style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="817.402,1083.25 831.402,1078.45 845.402,1083.25 831.402,1088.05 "/>
  </g>
  <g>
    <polyline style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="310.823,534.5 230.002,534.5 230.002,444.625 124.009,444.625 "/>
    <polygon style="fill: #ffffff" points="335.995,534.5 321.995,539.3 307.995,534.5 321.995,529.7 "/>
    <polygon style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="335.995,534.5 321.995,539.3 307.995,534.5 321.995,529.7 "/>
  </g>
  <g>
    <polyline style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="1109.18,1746 1178.6,1746 1178.6,1796.25 1273.2,1796.25 "/>
    <polygon style="fill: #ffffff" points="1084.01,1746 1098.01,1741.2 1112.01,1746 1098.01,1750.8 "/>
    <polygon style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="1084.01,1746 1098.01,1741.2 1112.01,1746 1098.01,1750.8 "/>
  </g>
  <g>
    <polyline style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="643.418,588.5 585.297,588.5 585.297,534.5 502.005,534.5 "/>
    <polygon style="fill: #ffffff" points="668.59,588.5 654.59,593.3 640.59,588.5 654.59,583.7 "/>
    <polygon style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="668.59,588.5 654.59,593.3 640.59,588.5 654.59,583.7 "/>
  </g>
  <g>
    <polyline style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="898.118,582.5 973.266,582.5 973.266,638.5 1073.59,638.5 "/>
    <polygon style="fill: #ffffff" points="872.946,582.5 886.946,577.7 900.946,582.5 886.946,587.3 "/>
    <polygon style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="872.946,582.5 886.946,577.7 900.946,582.5 886.946,587.3 "/>
  </g>
  <g>
    <polyline style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="771.271,665.672 771.271,805.75 579.8,805.75 "/>
    <polygon style="fill: #ffffff" points="771.271,640.5 776.071,654.5 771.271,668.5 766.471,654.5 "/>
    <polygon style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="771.271,640.5 776.071,654.5 771.271,668.5 766.471,654.5 "/>
    <text style="fill: #000000;text-anchor:start;font-size:12.7998;font-family:monospace;font-style:normal;font-weight:normal" x="782.271" y="652.5">2</text>
    <text style="fill: #000000;text-anchor:start;font-size:12.7998;font-family:monospace;font-style:normal;font-weight:normal" x="583.8" y="801.75">0..1</text>
  </g>
  <g>
    <polyline style="fill: none; fill-opacity:0; stroke-width: 2; stroke-dasharray: 8; stroke: #000000" points="1650.82,850.75 1650.82,1045.5 1749.39,1045.5 "/>
    <polyline style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="1736.74,1050.5 1752.74,1045.5 1736.74,1040.5 "/>
  </g>
  <g>
    <polyline style="fill: none; fill-opacity:0; stroke-width: 2; stroke-dasharray: 8; stroke: #000000" points="2111.36,851.634 2111.36,1045.5 2026.9,1045.5 "/>
    <polyline style="fill: none; fill-opacity:0; stroke-width: 2; stroke: #000000" points="2039.55,1040.5 2023.55,1045.5 2039.55,1050.5 "/>
  </g>
</svg>
